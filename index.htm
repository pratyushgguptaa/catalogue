<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- JQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- FontAwesome Icons -->
    <script src="https://kit.fontawesome.com/564f21f8c6.js" crossorigin="anonymous"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto&display=swap" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="styles.css">

    <title>Express Yourself!</title>
  </head>
  <body>
    <div class="sidebar">
      <div>
        <div id="diamond">DIAMOND</div>
        <i class="fas fa-times" onclick="hide()"></i>
        <nav id="menu">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active" href="#">T-Shirts</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Casuals</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" style="color: #000">Jeans <i class="fas fa-caret-down"></i></a>
              <ul class="nav flex-column" style="font-size: 14px;">
                <li class="nav-item">
                  <a class="nav-link active" href="#" style="color: #000; background-color: #f1f1f1"><i class="fas fa-caret-right"></i> &nbspSkinny</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Slim</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Regular</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Boot-Leg</a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Formals</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Shorts</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Shoes</a>
            </li>
          </ul>
        </nav>
        <div>
          <nav id="navi">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="#cart" onclick="hide()">Cart</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#contact" onclick="hide()">Contact</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#subscribe" onclick="hide()">Subscribe</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <div class="navbar">
      DIAMOND<i class="fas fa-gem"></i>
      <i class="fas fa-bars" onclick="show()"></i>
    </div>
    <div class="overlay" onclick="hide()"></div>
    <div class="content">
      <header>Jeans<span><i class="fas fa-search"></i>
      <a href="#cart" style="color: black;"><i class="fas fa-shopping-cart"></i></a></span></header>

      <div class="poster">
        <div class="jumbotron" id="home">
          <h1 class="display-4" style="text-shadow: 2px 2px #000;">New Arrivals</h1>
          <p class="lead font-weight-bolder" style="text-shadow: 2px 2px #000;">2020 COLLECTION</p>
          <hr class="my-4">
          <a class="btn btn-lg" href="#items" role="button">SHOP NOW</a>
        </div>
      </div>

      <div style="padding: 0 16px;font-size: 15px;font-family: 'Montserrat',sans-serif;"><p style="margin: 15px 0;">8 Items</p></div>

      <div class="items">
        <div class="row">
          <div class="col-lg">
            <div class="row">
              <div class="col">
                <div class="item-card">
                  <span id="tag">&nbspNew&nbsp</span>
                  <img src="media/Ripped.jpg" alt="Ripped">
                  <p>Ripped Skinny Jeans<br>
                    <b>₹1,399</b>
                  </p>
                </div>
              </div>
              <div class="col">
                <div class="item-card">
                  <img src="media/Mega.jpg" alt="Ripped">
                  <p>Mega Ripped Jeans<br>
                    <b>₹1,499</b>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg">
            <div class="row">
              <div class="col">
                <div class="item-card">
                  <span id="tag">&nbspSale&nbsp</span>
                  <img src="media/Washed.jpg" alt="Ripped">
                  <p>Denim Skinny Jeans<br>
                    <b>₹1,799</b>
                  </p>
                </div>
              </div>
              <div class="col">
                <div class="item-card">
                  <img src="media/Vintage.jpg" alt="Ripped">
                  <p>US Polo Association<br>
                    <b>₹1,599</b>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="w-100"></div>
          <div class="col-lg">
            <div class="row">
              <div class="col">
                <div class="item-card">
                  <img src="media/Washed.jpg" alt="Ripped">
                  <p>Flying Machine Jeans<br>
                    <b>₹1,299</b>
                  </p>
                </div>
              </div>
              <div class="col">
                <div class="item-card">
                  <img src="media/Vintage.jpg" alt="Ripped">
                  <p>Roadster Blue Skinny<br>
                    <b>₹999</b>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg">
            <div class="row">
              <div class="col">
               <div class="item-card">
                  <img src="media/Ripped.jpg" alt="Ripped">
                  <p>Levi's Skinny Jeans<br>
                    <b>₹1,599</b>
                  </p>
                </div>
              </div>
              <div class="col">
                <div class="item-card">
                  <img src="media/Mega.jpg" alt="Ripped">
                  <p>Vintage Skinny Jeans<br>
                    <b>₹1,499</b>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br>

      <div class="cart" id="cart">
        My Cart
        <div class="empty-cart">
          <img src="media/empty-cart.png" alt="empty-cart">
          <p style="font-weight: 600;">Missing Cart Items?</p>
          <p style="font-size: 16px;">Add to cart Your favourite Jeans and Begin Checking Out!
          </p>
        </div>

        <div class="pricing" style="display: none;">
          <div class="row">
            <div class="col-sm-7 ordered">
              <br>
              <ol id="item-list" ></ol>
              <div class="coupon">
                <form class="needs-validation" novalidate>
                  <input type="text" id="code" placeholder="Enter Coupon Code" required>
                  <div class="valid-feedback">
                    Coupon Code Applied!
                  </div>
                  <div class="invalid-feedback">
                    Please Enter VISION as coupon code.
                  </div>
                  <button id="check" type="submit" class="btn">APPLY&nbsp <i class="fas fa-qrcode"></i></button>
                </form>
              </div>
            </div>
            <div class="col-sm-5 price-details">
              <h6>PRICE DETAILS</h6><hr>
              Price (&nbsp<span id="items"></span> items)
              <span id="price" style="float: right;"></span>
              <br>
              Delivery Fee <span style="float: right;">₹199</span>
              <hr>
              <h5>Coupon Offer <span style="float: right;"></span><hr></h5>
              <h4 style="font-weight: 800">Total <span id="total" style="float: right;"></span></h4>
              <hr style="margin-bottom: 40px;">
              <button id="place" type="" class="btn btn-danger">PLACE ORDER&nbsp&nbsp&nbsp<i class="fas fa-barcode" style="transform: scale(1.5);"></i></button>
            </div>
          </div>
        </div>
      </div>
      <br>
      <div class="contact-section">
        <div class="row">
          <div class="about col-3">
            <h3>About</h3>
            <a href="#contact">
              About Us<br>
              Support<br>
              Shipping<br>
              We're Hiring<br>
              Payment<br>
              Gift card<br>
              Return<br>
              FAQ<br>
              Help
            </a>
          </div>
          <div class="col-5" id="contact">
            <h3>Contact</h3>
            Want to Reach Us? Go Ahead.<br>
            <input type="" placeholder="Name">
            <input type="" name="" placeholder="Email">
            <input type="" name="" placeholder="Subject">
            <input type="" name="" placeholder="Message">
            <button class="btn btn-light">Send</button>

          </div>
          <div class="col-4 store">
            <h3>Store</h3>
            <i class="fas fa-map-marker-alt"></i>&nbsp Diamond Inc.<br>
            <i class="fas fa-phone-alt"></i>&nbsp Contact No.<br>
            <i class="fas fa-envelope"></i>&nbsp support@diamond.in<br>
            <br>
            <h3>We accept</h3>
            <i class="far fa-credit-card"></i>&nbsp Credit Card<br>
            <i class="fab fa-cc-visa"></i>&nbsp Visa<br>
            <br>
            <i class="fab fa-linkedin-in fa-2x"></i>
            <i class="fab fa-facebook-square fa-2x"></i>
            <i class="fab fa-instagram fa-2x"></i>
            <i class="fab fa-snapchat fa-2x"></i>
            <i class="fab fa-pinterest-p fa-2x"></i>
            <i class="fab fa-twitter fa-2x"></i>
          </div>
        </div>
      </div>
      <div id="subscribe">
        <h2>SUBSCRIBE To NEWSLETTER</h2>
        <p>Join our mailing list to receive updates on new arrivals and special offers.</p>
        <input placeholder="Enter E-mail">
        <button class="btn">Subscribe</button>
      </div>
      <div id="footer">
        MADE IN <img src="media/india.png">
        <!--Author of the png
        <a href='https://pngtree.com/so/map'>map png from pngtree.com</a>
        -->
      </div>

    </div>

    <script type="text/javascript">

      var bill =0, totalPrice =199,k=1;
      var codes = {"VISION":150,"CODE100":100,"VEER":125,"BAHADUR":99,"LAUNDE":50,"MANIT":200,"PMC007":70,"BHOPAL50":50};
      var coupons ="";
      var keys = Object.keys(codes);
      keys.forEach(key=>{
        coupons+=key + '  --> ₹' + codes[key]+' Off\n';
      });

      //showing sidebar
      function show(){
        $(".fa-times").fadeIn();
        $(".overlay").fadeIn();
        $(".sidebar").fadeIn();
      }
      //hiding sidebar
      function hide(){
        $(".fa-times").hide();
        $(".sidebar").fadeOut();
        $(".overlay").fadeOut();
      }
      function addToCart(){
        $(".item-card").append("<a class=\"btn btn-lg\" href=\"#cart\" role=\"button\"><i class=\"fas fa-cart-plus\"></i>&nbsp&nbspAdd to Cart</a>");
      }
      //add the favourite button to each item card
      $(".item-card").prepend("<i class=\"fas fa-heart\"></i>");
      //on click fa-heart toggle class favourite
      $(".fa-heart").click(function(){
        $(this).toggleClass("favourite");
      });

      //add add to cart button to each item-card
      addToCart();

      

      //onclick of add to card button
      $(".item-card a").click(function(){
        $(this).html("<i class=\"fas fa-cart-arrow-down\"></i>&nbsp&nbspAdded to Cart").css({
          "cursor":"wait"
        });
        var itemName = $(this).siblings("p").html().split("<br>")[0];

        var priceTag = $(this).siblings("p").children("b").html();

        var itemPrice = parseInt(priceTag.replace( /[^\d]/g, '' ));
        
        var classPriceTag = "<span class=\"each-price\">"+priceTag +"</span>";
        var removeTag = "<b>&nbspREMOVE</b>";

        bill += itemPrice;
        totalPrice += itemPrice;


        $("ol").append("<li>"+itemName+""+classPriceTag+"</li>");
        $("#items").text($("#item-list").children().length);
        $("#price").text("₹"+bill.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
        $("#total").text("₹"+totalPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));

      });

      //on REMOVE of an itme from the lists
     /* $('#item-list').on('click','b', function(event){
        var removeLi = $(this).parent().parent();
        var itemPrice = parseInt(removeLi.text().replace( /[^\d]/g, '' ));
        bill-=itemPrice;
        totalPrice-=itemPrice;
        $("#price").text("₹"+bill.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
        $("#total").text("₹"+totalPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
        
        var cards = $(".item-card");

        var i = 0;
        for (; i < 8; i++)
          if(cards[i].innerHTML.split('<br>')[0].split('<p>')[1] == removeLi.text().split('₹')[0])
            break;

        //alert($(".item-card")[i].innerHTML);          

        $(".item-card")[i].innerHTML = cards[i].innerHTML.split('</p>')[0]+"</p><a class=\"btn btn-lg\" href=\"#cart\" role=\"button\" style=\"cursor:pointer;pointer-events:auto !important;\"><i class=\"fas fa-cart-plus\"></i>&nbsp&nbspAdd to Cart</a>";

        removeLi.slideUp();
      });
      */

      //on enter coupon code and submit
      $("form").submit(function(e) {
        e.preventDefault();
        var input = $("#code").val();

      

        if(codes[input] !== undefined){
          $(".valid-feedback").slideDown();
          $(".invalid-feedback").slideUp();
          $("#code").prop('disabled', true);
          $("#check").prop('disabled','disabled');
          $("#check").html("APPLIED&nbsp <i class=\"fas fa-qrcode\">");
          $("h5").slideDown();

          var discount = codes[input];
          totalPrice -= discount;
          $("h5 span").text("-₹"+discount);
          $("#total").text("₹"+totalPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));

        }
        else{
          $(".valid-feedback").slideUp();
          $(".invalid-feedback").slideDown();
          if(k==1){
            alert("Coupon Codes and Offers:\n"+coupons);
            k++;
          }
        }



      });

      //checks every 2 sec whether the bill is empty and will show
      //the empty cart div
      setInterval(function(){
        if(bill==0){
          $(".pricing").hide();
          $(".empty-cart").show();
          $(".item-card a").html("<i class=\"fas fa-cart-plus\"></i>&nbsp&nbspAdd to Cart").css({
            "cursor" : "pointer",
            "pointerEvents" : "auto"
          });
        }
        else{
          $(".pricing").show();
          $(".empty-cart").hide();
        }
      },2000);
      
      // media query event handler
      if (matchMedia) {
      const mq = window.matchMedia("(min-width: 992px)");
      mq.addListener(WidthChange);
      WidthChange(mq);
      }

      // media query change
      function WidthChange(mq) {
        if (mq.matches) {
          $(".fa-times").hide();
          $(".overlay").fadeOut();
          $(".sidebar").fadeIn();
        } else {
          $(".sidebar").fadeOut();
        }
      }

      
    </script>
    <!-- jQuery first, then Popper.js, then Bootstrap JS 
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
     -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>
